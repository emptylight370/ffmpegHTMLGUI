<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ffmpeg可视化命令生成界面</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="MainPage.css">
    <script src="MainPage.js"></script>
    <script src="translations.js"></script>
</head>

<body class="noselect">
    <!-- translation -->
    <span class="langselect">
        <label id="languageChoose">语言选择：</label>
        <select name="lang" id="lang" onchange="langsel()">
            <option value="zh-CN">简体中文</option>
            <option value="en">English</option>
        </select>
    </span>

    <!-- 选择文件 -->
    <label for="chosefile" class="clickable" id="uploadLabel">你可以点击上传选择文件，并复制文件地址，这里实际上不起作用：</label>
    <input type="file" name="chosefile" id="chosefile"><br>
    <!-- 文件路径 -->
    <label class="clickable heicenter" for="filesrc" id="fileSrcLabel">这里是你选择的文件的路径，请在上传文件时右键文件选择复制文件地址，并将地址粘贴到右边文本框中：</label>
    <!-- 这个是warning，显示红色，class=warning，title可以鼠标悬浮显示 -->
    <label class="warning clickable" title="此项必填">*</label>
    <textarea name="filesrc" id="filesrc" contenteditable="true" placeholder="这里粘贴文件的路径" cols="80" rows="2" required spellcheck="false"></textarea>
    <hr>
    <!-- websockets -->
    <label id="websocketLabel">websocket设置</label><br>
    <!-- <input type="button" value="启动websocket" onclick="startwebsocket(0)"> -->
    <button id="startWSBtn" onclick="startwebsocket(0)">启动websocket</button>
    <!-- <input type="button" value="检查连接状态"> -->
    <label id="wsState">连接状态未知:UnKnown</label>
    <hr>

    <!-- preset预设 -->
    <label id="presetLabel">预设选项，无需填写设置，一键导出</label>
    <label class="tip clickable" id="dis01" onclick="dis(1)">[展开]</label>
    <label class="tip clickable" id="dis02" onclick="dis(2)" hidden>[收起]</label><br>
    <div class="scrolly" id="dis03" hidden>
        16:9<br>
        <input type="button" value="4K 240FPS 20Kkbps" onclick="clicktoexport(3840,2160,240,20000)"><br>
        <input type="button" value="4K 240FPS 10Kkbps" onclick="clicktoexport(3840,2160,240,10000)"><br>
        <input type="button" value="4K 240FPS 5Kkbps" onclick="clicktoexport(3840,2160,240,5000)"><br>
        <input type="button" value="4K 120FPS 20Kkbps" onclick="clicktoexport(3840,2160,120,20000)"><br>
        <input type="button" value="4K 120FPS 10Kkbps" onclick="clicktoexport(3840,2160,120,10000)"><br>
        <input type="button" value="4K 120FPS 5Kkbps" onclick="clicktoexport(3840,2160,120,5000)"><br>
        <input type="button" value="4K 60FPS 20Kkbps" onclick="clicktoexport(3840,2160,60,20000)"><br>
        <input type="button" value="4K 60FPS 10Kkbps" onclick="clicktoexport(3840,2160,60,10000)"><br>
        <input type="button" value="4K 60FPS 5Kkbps" onclick="clicktoexport(3840,2160,60,5000)"><br>
        <input type="button" value="2K 120FPS 20Kkbps" onclick="clicktoexport(2560,1440,120,20000)"><br>
        <input type="button" value="2K 120FPS 10Kkbps" onclick="clicktoexport(2560,1440,120,10000)"><br>
        <input type="button" value="2K 120FPS 5Kkbps" onclick="clicktoexport(2560,1440,120,5000)"><br>
        <input type="button" value="2K 60FPS 20Kkbps" onclick="clicktoexport(2560,1440,60,20000)"><br>
        <input type="button" value="2K 60FPS 10Kkbps" onclick="clicktoexport(2560,1440,60,10000)"><br>
        <input type="button" value="2K 60FPS 5Kkbps" onclick="clicktoexport(2560,1440,60,5000)"><br>
        <input type="button" value="1080P 60FPS 10Kkbps" onclick="clicktoexport(1920,1080,60,10000)"><br>
        <input type="button" value="1080P 60FPS 5Kkbps" onclick="clicktoexport(1920,1080,60,5000)"><br>
        <input type="button" value="1080P 60FPS 2Kkbps" onclick="clicktoexport(1920,1080,60,2000)"><br>
        <input type="button" value="1080P 30FPS 10kKbps" onclick="clicktoexport(1920,1080,30,10000)"><br>
        <input type="button" value="1080P 30FPS 5Kkbps" onclick="clicktoexport(1920,1080,30,5000)"><br>
        <input type="button" value="1080P 30FPS 2Kkbps" onclick="clicktoexport(1920,1080,30,2000)"><br>
        <input type="button" value="720P 60FPS 10Kkbps" onclick="clicktoexport(1280,720,60,10000)"><br>
        <input type="button" value="720P 60FPS 5Kkbps" onclick="clicktoexport(1280,720,60,5000)"><br>
        <input type="button" value="720P 60FPS 2Kkbps" onclick="clicktoexport(1280,720,60,2000)"><br>
        <input type="button" value="720P 30FPS 10Kkbps" onclick="clicktoexport(1280,720,30,10000)"><br>
        <input type="button" value="720P 30FPS 5Kkbps" onclick="clicktoexport(1280,720,30,5000)"><br>
        <input type="button" value="720P 30FPS 2Kkbps" onclick="clicktoexport(1280,720,30,2000)"><br>
        4:3<br>
        <input type="button" value="720P 60FPS 10Kkbps" onclick="clicktoexport(960,720,60,10000)"><br>
        <input type="button" value="720P 60FPS 5Kkbps" onclick="clicktoexport(960,720,60,5000)"><br>
        <input type="button" value="720P 60FPS 2Kkbps" onclick="clicktoexport(960,720,60,2000)"><br>
        <input type="button" value="720P 30FPS 10Kkbps" onclick="clicktoexport(960,720,30,10000)"><br>
        <input type="button" value="720P 30FPS 5Kkbps" onclick="clicktoexport(960,720,30,5000)"><br>
        <input type="button" value="720P 30FPS 2Kkbps" onclick="clicktoexport(960,720,30,2000)"><br>
        <input type="button" value="480P 60FPS 10Kkbps" onclick="clicktoexport(640,480,60,10000)"><br>
        <input type="button" value="480P 60FPS 5Kkbps" onclick="clicktoexport(640,480,60,5000)"><br>
        <input type="button" value="480P 60FPS 2Kkbps" onclick="clicktoexport(640,480,60,2000)"><br>
        <input type="button" value="480P 30FPS 10Kkbps" onclick="clicktoexport(640,480,30,10000)"><br>
        <input type="button" value="480P 30FPS 5Kkbps" onclick="clicktoexport(640,480,30,5000)"><br>
        <input type="button" value="480P 30FPS 2Kkbps" onclick="clicktoexport(640,480,30,2000)"><br>
    </div>
    <hr>

    <!-- 参数设置部分 -->
    <label id="ffmpegSettings">以下是FFmpeg的参数设置：</label><br>
    <!-- 输出视频文件夹，可不填 -->
    <label for="outputdir" class="clickable" id="outputDirLabel">输出视频文件夹：</label>
    <!-- 这个是tip，显示蓝色，class=tip，title可以鼠标悬浮显示 -->
    <lable class="tip" title="需要填写可用的文件夹地址，请以'\'结尾">[?]</lable>
    <input type="text" name="outputdir" id="outputdir" class="wid400" placeholder="留空默认在输入视频文件夹输出"><br>
    <!-- 输出视频名称，可不填 -->
    <label for="outputfilename" class="clickable" id="outputFileNameLabel">输出视频名称：</label>
    <label class="tip" title="只修改后缀名也要填写完整文件名，这里的文件名包含后缀名">[?]</label>
    <input type="text" name="outputfilename" id="outputfilename" class="wid400" placeholder="留空默认在文件名后方加上' _ffmpeg'"><br>
    <!-- 设置视频分辨率 -->
    <label for="videowidth" id="videoResolutionLabel">视频分辨率：</label>
    <label class="tip" title="视频分辨率，单位为像素，格式示例1920x1080，可以留空，留空默认原分辨率">[?]</label>
    <input type="number" name="videowidth" id="videowidth" class="wid50" placeholder="1920">
    <label for="videowidth">px</label>&nbsp;
    <label for="videoheight">x</label>
    <input type="text" name="videoheight" id="videoheight" class="wid50" placeholder="1080">
    <label for="videoheight">px</label><br>
    <!-- 设置视频比特率 -->
    <label for="videobyte" id="videoByteLabel">视频比特率：</label>
    <label class="tip" title="视频比特率，单位为kbit/s，留空默认由ffmpeg决定">[?]</label>
    <input type="number" name="videobyte" id="videobyte" class="wid100" placeholder="单位为kbit/s"><br>
    <!-- 设置视频帧数 -->
    <label for="videofps" id="videoFpsLabel">视频帧数：</label>
    <label class="tip" title="设置视频帧数，不填默认和原视频一样，单位为fps">[?]</label>
    <input type="number" name="videofps" id="videofps" class="wid100" placeholder="单位为fps"><br>
    <!-- 不询问即强制覆盖输出文件 -->
    <label for="overwrite" id="forceOverwriteLabel">强制覆盖输出文件</label>
    <label class="tip" title="当输出目录存在有与输出的文件同名的文件时询问是否覆盖，启用后不询问自动覆盖">[?]</label>
    <input type="checkbox" name="overwrite" id="overwrite"><label for="overwrite" id="choseToOverwriteLabel">点击启用</label><br>
    <!-- 显示编码进度 -->
    <label for="showEncodingStatus" id="showEncodingStatusLabel">显示编码进度</label>
    <label class="tip" title="开启后在编码过程中会显示编码进度">[?]</label>
    <input type="checkbox" name="showEncodingStatus" id="showEncodingStatus"><label for="showEncodingStatus" id="choseToShowEncodingStatusLabel">点击启用</label><br>

    <!-- 特殊选项 -->
    <hr>
    <label id="specialSettingsLabel">特殊选项</label><br>
    <!-- 不输出视频 -->
    <label for="noVideoOut" id="noVideoOutLabel">不输出视频：</label>
    <label class="tip" title="启用后不输出视频，只输出音频，建议输出文件为音频格式">[?]</label>
    <input type="checkbox" name="noVideoOut" id="noVideoOut"><label for="noVideoOut" id="choseToNoVideoOut">点击启用</label><br>
    <!-- 不输出音频 -->
    <label for="noAudioOut" id="noAudioOutLabel">不输出音频：</label>
    <label class="tip" title="启用后不输出音频，只输出视频，建议输出文件为视频格式">[?]</label>
    <input type="checkbox" name="noAudioOut" id="noAudioOut"><label for="noAudioOut" id="choseToNoAudioOut">点击启用</label><br>

    <!-- 以下是生成命令的输出区域 -->
    <hr>
    <label id="outputCommandLabel">生成的参数命令如下：</label>
    <button onclick="generatecommand()" id="generateBtn">点击生成</button>
    <button onclick="clicktocopy()" id="copyBtn">点击复制</button>
    <button onclick="startwebsocket(1)" title="需要在后台运行server接收数据" id="runBtn">点击运行</button><br>
    <textarea name="outputcommand" id="outputcommand" cols="120" rows="5" placeholder="在生成指令之后请复制到命令行中运行，请确保自己配置好了ffmpeg环境，并且已经添加到了环境变量中"></textarea>
</body>

<footer>
    <!-- CopyRight and Infos -->
    <hr>
    <p class="widcenter">下载并安装<a href="https://ffmpeg.org">FFmpeg</a></p>
    <p class="widcenter">本网页由<a href="https://github.com/lingfengyu-dreaming">EmptyLight</a>编写。点击访问本项目的<a href="https://github.com/lingfengyu-dreaming/ffmpegHTMLGUI">GitHub</a>地址。</p>
    <p class="widcenter">&copy;Copyright <a href="https://github.com/lingfengyu-dreaming">EmptyLight</a> 2023</p>
</footer>

</html>